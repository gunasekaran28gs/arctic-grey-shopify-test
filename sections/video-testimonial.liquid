<style> 
    .ag-video-testimonial-container{
        margin: 50px 0px;
    }
    .ag-video-testimonial-wrapper {
        background-color: #F6F6F5;
        padding-top: 40px;
        padding-bottom: 40px;
    }
    .video-container{
        position: relative;
        width: 300px;
        height: 420px;  
        overflow: hidden;
        border-radius: 8px;
    }
    .video-container video {
          position: absolute;
          top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform: translate(-50%, -50%);
            object-fit: cover;
            object-position: center center;
        }

        .testimonial-video-slider .slick-slide{
  display: flex;
  align-items: center;
  justify-content: center;
  transform: scale(0.95);
  transition: all 0.4s ease-in-out;
}
.testimonial-video-slider .slick-slide,
.testimonial-video-slider .slick-slide[aria-hidden="true"]:not(.slick-cloned) ~ .slick-cloned[aria-hidden="true"] {
  /* transform: scale(0.8, 0.8); */
  transition: all 0.4s ease-in-out;
}

/* Active center slide (You can change anything here for cenetr slide)*/
.testimonial-video-slider .slick-center,
.testimonial-video-slider .slick-slide[aria-hidden="true"]:not([tabindex="-1"]) + .slick-cloned[aria-hidden="true"] {
    /* height: 500px; */
}
.testimonial-video-slider .slick-current.slick-active .video-container{
  height: 500px;
}
.testimonial-video-slider .slick-track{
    display: flex;
    align-items: center;
}

.slick-next, .slick-prev{
  z-index: 5;
}
.slick-next{
  right: 20%;
}
.slick-prev{
  left: 20%;
}
.slick-next:before, .slick-prev:before{
  color: #000;
  font-size: 26px;
}
.slick-next:before, .slick-prev:before{
    border: 1px solid #1B1F231A;
    font-size: 26px;
    width: 40px;
    display: flex;
    height: 40px;
    align-items: center;
    justify-content: center;
}
.slick-next, .slick-prev {
    top: -50px;
    display: block;
    width: 40px;
    height: 40px;
}

.slick-custom_arrows{
    width: 40px;
    height: 40px;
    border-radius: 4px;
    border: 1px solid #1B1F231A;
    background-color: transparent;
    cursor: pointer;
    transition: all 0.3s ease;
}
.slick-custom_arrows:hover{
    background-color: #000;
}
.slick-custom_arrows:hover svg path{
    fill: white;
}
.title-section_slick_arrows{
    display: flex;
    align-items: center;
    justify-content: space-between;
    max-width: 700px;
    margin: 60px auto;
}
.video-product-container{
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: white;
    border-radius: 8px;
    padding: 8px;
    margin-top: 16px;
}
.video-product-container img{
    width: 70px;
    height: 70px;
    border-radius: 4px;
    background-color: #F6F6F5;
}
.product_details .product_title{
    font-size: 13px;
    font-weight: 400;
    line-height: 15.41px;
    text-align: left;
    margin: 4px 0;
    text-underline-position:
    text-underline-position: from-font;
    text-decoration-skip-ink: none;
}
.product_details .product_price{
    font-size: 12px;
    font-weight: 500;
    margin: 3px 0;
    line-height: 14.22px;
    text-align: left;
    text-underline-position: from-font;
    text-decoration-skip-ink: none;

}
.add-to-cart_plus-icon{
    width: 32px;
    height: 32px;
    background-color: #000;
    border-radius: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
}
.add-to-cart_plus-icon svg{
    width: 16px;
    height: 16px;
}
.add-to-cart_plus-icon svg path{
    fill: white;
}
</style>
<div class="ag-video-testimonial-wrapper">
    <div class="ag-video-testimonial-container">
        <div class="ag-video-testimonial-title title-section_slick_arrows center">
            <div class="slick-prev-button">
                <button class="slick-custom_arrows slick-prev-custom">{{'icon-arrow-left.svg' | inline_asset_content }}</button>
            </div>
            <div>
                <h4 class="section-subtitle">{{ section.settings.subtitle }}</h4>
                <h2 class="section-title">{{ section.settings.title }}</h2>
                <p class="section-description">{{ section.settings.description }}</p>
            </div>
                
            <div class="slick-next-button">
                <button class="slick-custom_arrows  slick-next-custom">{{'icon-arrow-right.svg' | inline_asset_content }}</button>
            </div>
        </div>
        
        
        <div class="ag-video-testimonial-video-list testimonial-video-slider">
            {% for block in section.blocks %}
                <div class="ag-testimonial-video-items">
                    <div class="video-container">
                        <video autoplay muted loop>
                            <source src="{{block.settings.video.sources[1].url}}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    {% if block.settings.product %}
                        {% assign product = all_products[block.settings.product] %}
                    <div class="video-product-container">
                        <img src="{{ product.featured_image.src |  image_url: width: 200  }}" width="" height=""  alt="">
                        <div class="product_details">
                            <h5 class="product_title">{{ product.title }}</h5>
                            <p class="product_price">{{ product.price |  money }}</p>
                        </div>
                        <div class="product_add-to-cart-button">
                            <a href="{{ product.url }}">
                                <div class="add-to-cart_plus-icon">
                                    {{'icon-plus.svg' | inline_asset_content }}
                                </div>
                            </a>
                            
                        </div>
                    </div>
                    {% endif %}
                </div>
            {% endfor %}

        </div>
    </div>
</div>


      <script id="rendered-js" >
$('.testimonial-video-slider').slick({
    variableWidth: true,
    slidesToShow: 5,
    lazyLoad: 'ondemand',
        slidesToScroll: 1,
        centerMode: true,
        arrows: true,
        dots: false,
        speed: 300,
        centerPadding: '20px',
        infinite: true,
        autoplaySpeed: 5000,
        autoplay: false,
        prevArrow: $(".slick-prev-custom"),
        nextArrow: $(".slick-next-custom"),
});

$(window).resize(function(){
  $('.testimonial-video-slider')[0].slick.refresh();
});
</script>

{% schema %}
    {
        "name": "Video Testimonial",
        "tag": "section",
        "class": "section",
        "disabled_on": {
            "groups": ["header", "footer"]
        },
        "settings": [
            {
                    "type": "text",
                    "id": "subtitle",
                    "label": "Sub Heading",
                    "default": "Sub Heading"
                },
                {
                    "type": "text",
                    "id": "title",
                    "label": "Title",
                    "default": "Title Here"
                },
                {
                    "type": "textarea",
                    "id": "description",
                    "label": "Description Text",
                    "default": "Welcome to my shop!"
                }
        ],
        "blocks": [
            {
                "type": "video",
                "name": "Video",
                "settings": [
                    {
                    "type": "video",
                    "id": "video",
                    "label": "A Shopify-hosted video"
                    },
                    {
                        "type": "product",
                        "id": "product",
                        "label": "Product to show"
                    }
                ]   
            }
        ],
        "presets": [
            {
                "name": "Video Testimonial"   
            }
        ]
    }
    {% endschema %}